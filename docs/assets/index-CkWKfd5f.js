(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();class l{constructor(t={}){this.sections=document.querySelectorAll(".section"),this.phone=document.querySelector(".phone-container"),this.phoneOverflow=document.querySelector("#phoneOverflow"),this.secondaryPhone=document.querySelector(".secondary-phone"),this.animatedText=document.querySelector(".tell_text"),this.currentSectionIndex=0,this.isScrolling=!1,this.touchStartY=0,this.scrollSensitivity=t.scrollSensitivity||1.5,this.scrollDuration=t.scrollDuration||700,this.phoneStyles=t.phoneStyles||[],this.mobilePhoneStyles=t.mobilePhoneStyles||[],this.imageMappings=t.imageMappings||[],this.secondaryPhoneSection=t.secondaryPhoneSection||null,this.animatTextSection=t.animatTextSection||null,this.init()}init(){this.addEventListeners(),this.resizeSections(),this.checkViewport(),this.moveToSection(this.currentSectionIndex)}addEventListeners(){window.addEventListener("wheel",this.handleScroll.bind(this),{passive:!1}),window.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),window.addEventListener("touchend",this.handleTouchEnd.bind(this),{passive:!0}),window.addEventListener("resize",this.resizeSections.bind(this)),window.addEventListener("resize",this.checkViewport.bind(this))}smoothScroll(t){const e=window.pageYOffset,n=t-e;let i=null;const o=s=>s<.5?2*s*s:1-Math.pow(-2*s+2,2)/2,r=s=>{i===null&&(i=s);const c=s-i,d=o(c/this.scrollDuration)*n+e;window.scrollTo(0,d),c<this.scrollDuration&&requestAnimationFrame(r)};requestAnimationFrame(r)}moveToSection(t){if(this.isScrolling)return;this.isScrolling=!0;const e=this.sections[t].offsetTop;this.smoothScroll(e),this.animatePhone(t),this.updatePhoneImage(t),this.updateSecondaryPhone(t),this.animateText(t),setTimeout(()=>{this.isScrolling=!1},this.scrollDuration)}animatePhone(t){const e=this.currentPhoneStyles[t]||{x:0,y:0,width:100,od:"dvw"};this.phone.style.transform=`translate(${e.x}%, ${e.y}%)`,this.phone.style.width=`${e.width}${e.od}`,this.phoneOverflow.style.borderRadius=`${e.br}dvw`,console.log(`Phone animation to position X: ${e.x}%, Y: ${e.y}%, Width: ${e.width}${e.od}`)}checkViewport(){window.innerWidth<=768?this.currentPhoneStyles=this.mobilePhoneStyles:this.currentPhoneStyles=this.phoneStyles}updatePhoneImage(t){document.querySelectorAll(".phone .photo").forEach((n,i)=>{this.imageMappings[t]===i?n.classList.add("active"):n.classList.remove("active")})}updateSecondaryPhone(t){this.secondaryPhoneSection!==null&&t===this.secondaryPhoneSection?this.secondaryPhone.classList.add("active"):this.secondaryPhone.classList.remove("active")}animateText(t){this.animatTextSection!==null&&t===this.animatTextSection?this.animatedText.classList.add("active"):this.animatedText.classList.remove("active")}handleScroll(t){if(t.preventDefault(),this.isScrolling)return;const e=t.deltaY>0?1:-1;(e>0&&this.currentSectionIndex<this.sections.length-1||e<0&&this.currentSectionIndex>0)&&(this.currentSectionIndex+=e,this.moveToSection(this.currentSectionIndex))}handleTouchStart(t){this.touchStartY=t.touches[0].clientY}handleTouchMove(t){t.preventDefault()}handleTouchEnd(t){const e=t.changedTouches[0].clientY,n=this.touchStartY-e>0?1:-1;this.isScrolling||(n>0&&this.currentSectionIndex<this.sections.length-1||n<0&&this.currentSectionIndex>0)&&(this.currentSectionIndex+=n,this.moveToSection(this.currentSectionIndex))}resizeSections(){const t=window.innerHeight;this.sections.forEach(e=>{e.style.height=`${t}px`})}getCurrentSectionIndex(){return this.currentSectionIndex}getCurrentSectionElement(){return this.sections[this.currentSectionIndex]}calculateWidthHeight(){return window.innerHeight*(this.phone.offsetWidth/this.phone.offsetHeight)}}document.addEventListener("DOMContentLoaded",()=>{const h=document.querySelector(".phone-container"),t=window.innerHeight*(h.offsetWidth/h.offsetHeight),e=t-t*.05,n=new l({scrollSensitivity:1.5,scrollDuration:700,phoneStyles:[{x:-42,y:4,width:41,od:"dvw"},{x:-30,y:2.5,width:e,od:"px",br:5},{x:-16,y:-12,width:55,od:"dvw"},{x:-30,y:2.5,width:e,od:"px",br:5},{x:-30,y:2.5,width:e,od:"px",br:5},{x:-16,y:2.5,width:55,od:"dvw",br:6.5},{x:-30,y:2.5,width:e,od:"px",br:5},{x:-30,y:2.5,width:e,od:"px"},{x:-16,y:-68,width:55,od:"dvw",br:6.5},{x:-30,y:2.5,width:e,od:"px"},{x:-50,y:250,width:e,od:"px"},{x:-50,y:250,width:e,od:"px"}],mobilePhoneStyles:[{x:-50,y:55,width:90,od:"dvw"},{x:-20,y:2.5,width:e,od:"px",br:5},{x:-50,y:45,width:90,od:"dvw"},{x:-75,y:40,width:e-e*.35,od:"px",br:5},{x:-50,y:30,width:e-e*.25,od:"px",br:5},{x:-50,y:42,width:90,od:"dvw",br:6.5},{x:-50,y:35,width:e-e*.25,od:"px",br:5},{x:-50,y:35,width:e-e*.25,od:"px"},{x:-50,y:-55,width:90,od:"dvw",br:6.5},{x:-20,y:2.5,width:e,od:"px"},{x:-50,y:200,width:90,od:"dvw"},{x:-50,y:200,width:90,od:"dvw"}],imageMappings:[0,1,1,1,2,3,4,5,5,6],animatTextSection:2,secondaryPhoneSection:3});console.log("Current section index:",n.getCurrentSectionIndex()),console.log("Current section element:",n.getCurrentSectionElement())});
